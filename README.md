# panelcomics - first draft
Early draft from 2018 of my Panel Comics project. Panel was designed to be a collaborative web comics platform for writers, artists, aids, and fans to come together to create and celebrate great indie comics from creators around the world. A node.js/express.js app running alongside a MongoDB database and an Azure blob storage. Oh, and a vanilla JS front-end with a bit of Bootstrap 5.

## Stack
* Express.js v4 - App server
* MongoDB - Document database
* Azure Storage - Blob storage
* EJS - Conditional html rendering

## Integrations
* Stripe - Payments

## Tools
* Mongoose - MongoDB interactions
* Express-Session - Session management
* Passport.js - Authentication middleware
* Socket.io - Persisent connection management
* Streamifier - Multipart streaming uploads

## Lessons Learned

* File size management - Needed to add some manner of file size compression or cropping to better manage the large image files being uploaded
* Authorization - I focused more on the collaborative experience than the authorization infrastructure. Most authorization was handled through simple database references.
* Proper app scoping - I spent too long working on features that either weren't key to the main product or would be used by so few users.
* Project structure/organization - The code structure for Splatr is a bit all over the place - some pieces are split into modules, others are written in place. Lots of clunky and hard-to-read node code. Also, mega-files - too many of the project files should be broken into more legible chunks to prevent the horrific sprawl that this has.
* Non-descriptive error messages - Generally, the errors generated by the server didn't include any information or logging.
* A11Y - The front-end code is a hodge-podge of different tutorials, ideas, workarounds, and inexperience. This led to a horrible experience for any non-visual user.
* Socket management - The live chat was a great idea, but I should've put active thought into socket management. Panel issued too many sockets and kept them alive for far too long.

## Things I'd do differently

Looking back at it, Panel definitely was better written than other early projects, granted it didn't end up finished - the color palette was also easier on the eyes.

Standard stuff: update to TypeScript and ES6+ techniques, which would help to reign in code sprawl - along with creating proper function and variable exports to limit the number of C/P chunks. Modularization in general would help to clean up the mega-functions and the largely unreadable route logic. 

On the front-end, I'd cut down on the sheer number of modals. Everything in the dashboard triggered at least one modal - some even spawned children modals. The design for the Panel dashboard was substantially improved over prior projects and operated in a dark-forward pattern, but I still didn't put considerations in for A11y or semantic HTML.
